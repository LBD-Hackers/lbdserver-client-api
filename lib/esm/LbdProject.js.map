{"version":3,"sources":["../../src/LbdProject.ts"],"names":["LbdProject","verbose","constructor","session","accessPoint","endsWith","fetch","localProject","projectId","split","length","accessService","AccessService","dataService","DataService","lbdService","LbdService","checkExistence","status","method","then","result","init","data","headers","Accept","i","json","create","existingPartialProjects","options","makePublic","local","push","createContainer","aclDefault","ACL","default","Authorization","agentClass","FOAF","Agent","sparqlUpdate","createRegistryContainer","LBD","hasDatasetRegistry","referenceContainerUrl","hasReferenceRegistry","hasServiceRegistry","part","addPartialProject","q","DCTERMS","creator","info","webId","Object","keys","q0","key","referenceMeta","LbdDataset","addDistribution","Buffer","from","aggregates","addStakeholder","accessRights","read","append","write","control","setResourceAccess","ResourceType","CONTAINER","delete","deleteContainer","findAllPartialProjects","findPartialProject","repo","getProjectRegistry","partialProjectOfStakeholder","addPartialProjectByStakeholder","partialProjectUrl","containerName","property","containerUrl","addDataset","id","subject","datasetRegistry","datasetUrl","theDataset","deleteDataset","ds","deleteDatasetById","datasetId","getAllDatasetUrls","myEngine","sources","partials","p","dsReg","query","LDP","contains","results","resultToString","asStream","parsed","bindings","map","value","addConcept","referenceRegistry","ref","LbdConcept","getReferenceRegistry","getAllReferenceRegistries","registries","partial","reg","deleteConcept","url","parts","pop","join","getConceptByIdentifier","identifier","dataset","distribution","rq","DCAT","downloadURL","accessURL","r","b","bi","get","downloadURLs","item","hasReference","inDataset","hasIdentifier","OWL","sameAs","aliases","Set","forEach","add","concept","references","v","values","idQ","inDistribution","response","theConcept","directQuery"],"mappings":"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","sourcesContent":["import AccessService from \"./helpers/access-service\";\r\nimport DataService from \"./helpers/data-service\";\r\nimport {LbdConcept} from \"./LbdConcept\";\r\nimport {\r\n  newEngine,\r\n  IQueryResultBindings,\r\n  ActorInitSparql,\r\n} from \"@comunica/actor-init-sparql\";\r\nimport {LbdDataset} from \"./LbdDataset\";\r\nimport LBD from \"./helpers/vocab/lbds\";\r\nimport { AccessRights, ResourceType } from \"./helpers/BaseDefinitions\";\r\nimport {LbdService} from \"./LbdService\";\r\nimport { extract, query } from \"./helpers/functions\";\r\nimport { v4 } from \"uuid\";\r\nimport { ACL, DCAT, DCTERMS, FOAF, OWL } from \"@inrupt/vocab-common-rdf\";\r\nimport { Session as BrowserSession } from \"@inrupt/solid-client-authn-browser\";\r\nimport { Session as NodeSession } from \"@inrupt/solid-client-authn-node\";\r\nimport { LDP } from \"@inrupt/vocab-common-rdf\";\r\nimport { getQueryResult, parseStream } from \"./helpers/utils\";\r\n\r\nexport class LbdProject {\r\n  public fetch;\r\n  public verbose: boolean = false;\r\n  public accessService: AccessService;\r\n  public dataService: DataService;\r\n  public lbdService: LbdService;\r\n  public projectId: string;\r\n  public accessPoint: string;\r\n  public data: object[];\r\n\r\n  private session: BrowserSession | NodeSession;\r\n\r\n  // include queryEngine to allow caching of querydata etc.\r\n  public localProject: string;\r\n\r\n  /**\r\n   * \r\n   * @param session an (authenticated) Solid session\r\n   * @param accessPoint The main accesspoint of the project. This is an aggregator containing the different partial projects of the LBDserver instance\r\n   * @param verbose optional parameter for logging purposes\r\n   */\r\n  constructor(\r\n    session: BrowserSession | NodeSession,\r\n    accessPoint: string,\r\n    verbose: boolean = false\r\n  ) {\r\n    if (!accessPoint.endsWith(\"/\")) accessPoint += \"/\";\r\n    this.session = session;\r\n    this.fetch = session.fetch;\r\n    this.accessPoint = accessPoint;\r\n    this.localProject = accessPoint + \"local/\";\r\n    this.verbose = verbose;\r\n    this.projectId = accessPoint.split(\"/\")[accessPoint.split(\"/\").length - 2];\r\n    this.accessService = new AccessService(session.fetch);\r\n    this.dataService = new DataService(session.fetch);\r\n    this.lbdService = new LbdService(session);\r\n  }\r\n\r\n  /**\r\n   * @description Checks whether a project with this access point already exists\r\n   * @returns Boolean: true = the project exists / false = the project doesn't exist\r\n   */\r\n  public async checkExistence() {\r\n    const status = await this.fetch(this.accessPoint, { method: \"HEAD\" }).then(\r\n      (result) => result.status\r\n    );\r\n    if (status === 200) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /** \r\n   * @description Initialize the project in your application. In short, this adds project metadata to your LbdProject instance\r\n   */\r\n  public async init() {\r\n    const data = await this.fetch(this.localProject, {\r\n      headers: { Accept: \"application/ld+json\" },\r\n    }).then((i) => i.json());\r\n    this.data = data;\r\n    return data;\r\n  }\r\n\r\n\r\n  /**\r\n   * @description Create an LBDserver project on your Pod\r\n   * @param existingPartialProjects optional: if the project is already initialized on other stakeholder pods. Adds the existing partial projects to the Pod-specific access point\r\n   * @param options Metadata for the project. To be in format {[predicate]: value}\r\n   * @param makePublic access rights: true = public; false = only the creator\r\n   */\r\n  public async create(\r\n    existingPartialProjects: string[] = [],\r\n    options: object = {},\r\n    makePublic: boolean = false\r\n  ) {\r\n    const local = this.accessPoint + \"local/\";\r\n    existingPartialProjects.push(local);\r\n\r\n    // create global access point\r\n    await this.dataService.createContainer(this.accessPoint, makePublic);\r\n    await this.dataService.createContainer(local, makePublic);\r\n    if (makePublic) {\r\n      let aclDefault = `INSERT {?rule <${ACL.default}> <${local}>} WHERE {?rule a <${ACL.Authorization}> ; <${ACL.agentClass}> <${FOAF.Agent}>}`;\r\n      await this.dataService.sparqlUpdate(local + \".acl\", aclDefault);\r\n    }\r\n\r\n    // create different registries\r\n    await this.createRegistryContainer(\r\n      \"datasets/\",\r\n      makePublic,\r\n      LBD.hasDatasetRegistry\r\n    );\r\n    const referenceContainerUrl = await this.createRegistryContainer(\r\n      \"references/\",\r\n      makePublic,\r\n      LBD.hasReferenceRegistry\r\n    );\r\n    await this.createRegistryContainer(\r\n      \"services/\",\r\n      makePublic,\r\n      LBD.hasServiceRegistry\r\n    );\r\n\r\n    for (const part of existingPartialProjects) {\r\n      await this.addPartialProject(part);\r\n    }\r\n\r\n    let q = `INSERT DATA {<${this.accessPoint}> <${DCTERMS.creator}> \"${this.session.info.webId}\" . }`;\r\n    await this.dataService.sparqlUpdate(local, q);\r\n    await this.dataService.sparqlUpdate(this.accessPoint, q);\r\n\r\n    // create optional metadata (e.g. label etc.)\r\n    if (Object.keys(options).length > 0) {\r\n      let q0 = `INSERT DATA { `;\r\n      for (const key of Object.keys(options)) {\r\n        q0 += `<${this.accessPoint}> <${key}> \"${options[key]}\" .`;\r\n      }\r\n      q0 += \"}\";\r\n      await this.dataService.sparqlUpdate(this.accessPoint, q0);\r\n    }\r\n\r\n    const referenceMeta = new LbdDataset(this.session, referenceContainerUrl);\r\n    await referenceMeta.create();\r\n    await referenceMeta.addDistribution(\r\n      Buffer.from(\"\"),\r\n      \"text/turtle\",\r\n      {},\r\n      \"data\",\r\n      makePublic\r\n    );\r\n    await this.init();\r\n  }\r\n\r\n  /**\r\n   * @description Add a partial project to a Pod-specific access point\r\n   * @param part Partial project to add to a Pod-specific access point\r\n   */\r\n  public async addPartialProject(part: string) {\r\n    const q0 = `INSERT DATA {\r\n        <${this.accessPoint}> <${LBD.aggregates}> <${part}> .\r\n        }`;\r\n    await this.dataService.sparqlUpdate(this.accessPoint, q0);\r\n  }\r\n\r\n  /**\r\n   * @description Add a stakeholder to an LBDserver project\r\n   * @param webId The WebID/card of the stakeholder\r\n   * @param accessRights the access rights this stakeholder should have.\r\n   */\r\n  public async addStakeholder(\r\n    webId: string,\r\n    accessRights: AccessRights = {\r\n      read: true,\r\n      append: false,\r\n      write: false,\r\n      control: false,\r\n    }\r\n  ) {\r\n    await this.accessService.setResourceAccess(\r\n      this.accessPoint,\r\n      accessRights,\r\n      ResourceType.CONTAINER,\r\n      webId\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @description delete an LBDserver project (locally)\r\n   */\r\n  public async delete() {\r\n    await this.dataService.deleteContainer(this.accessPoint, true);\r\n  }\r\n\r\n  /**\r\n   * @description find all the partial projects from the indicated project access point\r\n   */\r\n  public async findAllPartialProjects() {\r\n    return await getQueryResult(\r\n      this.accessPoint,\r\n      LBD.aggregates,\r\n      this.fetch,\r\n      false\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @description Find the partial project provided by this stakeholder\r\n   * @param webId The webID of the stakeholder whom's partial project you want to find\r\n   * @returns The URL of the partial project\r\n   */\r\n  public async findPartialProject(webId: string) {\r\n    const repo = await this.lbdService.getProjectRegistry(webId);\r\n    // console.log('repo', repo)\r\n    const partialProjectOfStakeholder = repo + this.projectId + \"/local/\";\r\n    return partialProjectOfStakeholder\r\n    // console.log('partialProjectOfStakeholder', partialProjectOfStakeholder)\r\n    // const status = await this.fetch(partialProjectOfStakeholder, {\r\n    //   method: \"HEAD\",\r\n    // }).then((res) => res.status);\r\n    // if (status === 200) {\r\n    //   return partialProjectOfStakeholder;\r\n    // } else {\r\n    //   throw new Error(\r\n    //     `UNAUTHORIZED: This repository does not exist or you don't have the required access rights`\r\n    //   );\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * @description Add this stakeholder's partial project corresponding with this project (same GUID)\r\n   * @param webId The webID of the stakeholder whom's partial project you want to add\r\n   * @returns the URL of the partial project\r\n   */\r\n  public async addPartialProjectByStakeholder(webId: string) {\r\n    const partialProjectUrl = await this.findPartialProject(webId);\r\n    await this.addPartialProject(partialProjectUrl);\r\n    return partialProjectUrl;\r\n  }\r\n\r\n  private async createRegistryContainer(containerName, makePublic, property) {\r\n    if (!containerName.endsWith(\"/\")) containerName += \"/\";\r\n\r\n    const containerUrl = this.localProject + containerName;\r\n    await this.dataService.createContainer(containerUrl, makePublic);\r\n    const q0 = `INSERT DATA {\r\n        <${this.localProject}> <${property}> <${containerUrl}> .\r\n      }`;\r\n    await this.dataService.sparqlUpdate(this.localProject, q0);\r\n    return containerUrl;\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  /////////////////////// DATASETS ////////////////////////\r\n  /////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * @description Add a dataset to the project\r\n   * @param makePublic initial access rights for the dataset\r\n   * @param id optional id for the dataset - a GUID is created by default\r\n   * @param options Optional - Object containing metadata about the dataset to be created. e.g: {[RDFS.label]: \"theLabel\"}\r\n   * @returns\r\n   */\r\n  public async addDataset(\r\n    options: object = {},\r\n    makePublic: boolean = false,\r\n    id: string = v4()\r\n  ): Promise<LbdDataset> {\r\n    const subject = extract(this.data, this.localProject);\r\n    const datasetRegistry = subject[LBD.hasDatasetRegistry][0][\"@id\"];\r\n    const datasetUrl = datasetRegistry + id + \"/\";\r\n    const theDataset = new LbdDataset(this.session, datasetUrl);\r\n    await theDataset.create(options, makePublic);\r\n    return theDataset;\r\n  }\r\n\r\n  /**\r\n   * @description Delete a dataset by URL\r\n   * @param datasetUrl The URL of the dataset \r\n   */\r\n  public async deleteDataset(datasetUrl: string) {\r\n    if (!datasetUrl.endsWith(\"/\")) datasetUrl += \"/\";\r\n    const ds = new LbdDataset(this.session, datasetUrl);\r\n    await ds.delete();\r\n  }\r\n\r\n  /**\r\n   * @description delete a dataset by its ID\r\n   * @param datasetId The GUID of the dataset to be deleted\r\n   */\r\n  public async deleteDatasetById(datasetId: string) {\r\n    const subject = extract(this.data, this.localProject);\r\n    const datasetRegistry = subject[LBD.hasDatasetRegistry][0][\"@id\"];\r\n    const datasetUrl = datasetRegistry + datasetId + \"/\";\r\n    const ds = new LbdDataset(this.session, datasetUrl);\r\n    await ds.delete();\r\n  }\r\n\r\n  /**\r\n   * @description Get all datasets within this project\r\n   * @param options {query: query to override, asStream: consume the results as a stream, local: query only the local project}\r\n   * @returns \r\n   */\r\n  public async getAllDatasetUrls(options?: {\r\n    query: string;\r\n    asStream: boolean;\r\n    local: boolean;\r\n  }) {\r\n    const myEngine = newEngine();\r\n    const subject = extract(this.data, this.localProject);\r\n    const sources = [];\r\n    if (options && options.local) {\r\n      sources.push(subject[LBD.hasDatasetRegistry][0][\"@id\"]);\r\n    } else {\r\n      const partials = await this.findAllPartialProjects();\r\n      for (const p of partials) {\r\n        const dsReg = await getQueryResult(\r\n          p,\r\n          LBD.hasDatasetRegistry,\r\n          this.fetch,\r\n          true\r\n        );\r\n        sources.push(dsReg);\r\n      }\r\n    }\r\n    let q;\r\n    if (!options || !options.query) {\r\n      q = `SELECT ?dataset WHERE {?registry <${LDP.contains}> ?dataset}`;\r\n    } else {\r\n      q = options.query;\r\n    }\r\n\r\n    const results = await myEngine.query(q, { sources, fetch: this.fetch });\r\n    const { data } = await myEngine.resultToString(\r\n      results,\r\n      \"application/sparql-results+json\"\r\n    );\r\n    if (options && options.asStream) {\r\n      return data;\r\n    } else {\r\n      const parsed = await parseStream(data);\r\n      return parsed[\"results\"].bindings.map((i) => i[\"dataset\"].value);\r\n    }\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  ////////////////////// REFERENCES////////////////////////\r\n  /////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * @description Add a concept to the local project registry\r\n   * @returns an LBDconcept Instance\r\n   */\r\n  public async addConcept(id?): Promise<LbdConcept> {\r\n    const subject = extract(this.data, this.localProject);\r\n    const referenceRegistry = subject[LBD.hasReferenceRegistry][0][\"@id\"];\r\n    const ref = new LbdConcept(this.session, referenceRegistry);\r\n    await ref.create(id);\r\n    return ref;\r\n  }\r\n\r\n  public getReferenceRegistry() {\r\n    const subject = extract(this.data, this.localProject);\r\n    return subject[LBD.hasReferenceRegistry][0][\"@id\"];\r\n  }\r\n\r\n  private async getAllReferenceRegistries() {\r\n    const partials = await this.findAllPartialProjects()\r\n    const registries = []\r\n\r\n    for (const partial of partials) {\r\n      const reg = await getQueryResult(partial, LBD.hasReferenceRegistry, this.fetch, true)\r\n      registries.push(reg + \"data\")\r\n    }\r\n\r\n    return registries\r\n  }\r\n\r\n  /**\r\n   * @description delete a concept by ID\r\n   * @param url the URL of the concept to be deleted\r\n   */\r\n  public async deleteConcept(url: string) {\r\n    const parts = url.split(\"/\");\r\n    const id = parts.pop();\r\n    const referenceRegistry = parts.join(\"/\");\r\n    const ref = new LbdConcept(this.session, referenceRegistry);\r\n    await ref.delete();\r\n  }\r\n\r\n  /**\r\n   * @description Find the main concept by one of its representations: an identifier and a dataset\r\n   * @param identifier the Identifier of the representation\r\n   * @param dataset the dataset where the representation resides\r\n   * @param distribution (optional) the distribution of the representation\r\n   * @returns \r\n   */\r\n  public async getConceptByIdentifier(\r\n    identifier: string,\r\n    dataset: string,\r\n    distribution?: string\r\n  ) {\r\n    const myEngine = newEngine();\r\n\r\n    // find all the reference registries of the aggregated partial projects\r\n    const partials = await this.findAllPartialProjects();\r\n    let sources = [];\r\n    for (const p of partials) {\r\n      const referenceRegistry = await getQueryResult(\r\n        p,\r\n        LBD.hasReferenceRegistry,\r\n        this.fetch,\r\n        true\r\n      );\r\n      const rq = `SELECT ?downloadURL ?dist WHERE {<${referenceRegistry}> <${DCAT.distribution}> ?dist . ?dist <${DCAT.downloadURL}> ?downloadURL . OPTIONAL {?dist <${DCAT.accessURL}> ?accessURL .}}`;\r\n      const results = await myEngine\r\n        .query(rq, { sources: [referenceRegistry], fetch: this.fetch })\r\n        .then((r: IQueryResultBindings) => r.bindings())\r\n        .then((b) =>\r\n          b.map((bi) => {\r\n            return {\r\n              downloadURL: bi.get(\"?downloadURL\"),\r\n              accessURL: bi.get(\"?accessURL\"),\r\n            };\r\n          })\r\n        );\r\n      sources = [...sources, ...results];\r\n    }\r\n\r\n    const downloadURLs = sources.map((item) => item.downloadURL.id);\r\n    const q = `SELECT ?concept ?alias WHERE {\r\n      ?concept <${LBD.hasReference}> ?ref .\r\n      ?ref <${LBD.inDataset}> <${dataset}> ;\r\n        <${LBD.hasIdentifier}> ?idUrl .\r\n      ?idUrl <http://schema.org/value> \"${identifier}\" .\r\n      OPTIONAL {?concept <${OWL.sameAs}> ?alias}\r\n  }`;\r\n\r\n    const aliases = new Set<any>();\r\n    await myEngine\r\n      .query(q, { sources: downloadURLs, fetch: this.fetch })\r\n      .then((r: IQueryResultBindings) => r.bindings())\r\n      .then((b) =>\r\n        b.forEach((bi) => {\r\n          aliases.add(bi.get(\"?concept\").value)\r\n          if (bi.get(\"?alias\")) aliases.add(bi.get(\"?alias\"));\r\n        })\r\n      );\r\n\r\n      const concept = {\r\n        aliases: [],\r\n        references: [] \r\n      }\r\n\r\n      for (let v of aliases.values()) {\r\n        concept.aliases.push(v)\r\n        const idQ = `SELECT ?dataset ?dist ?identifier WHERE {\r\n          <${v}> <${LBD.hasReference}> ?ref .\r\n          ?ref <${LBD.inDataset}> ?dataset ;\r\n            <${LBD.hasIdentifier}> ?idUrl .\r\n          ?idUrl <http://schema.org/value> ?identifier ;\r\n            <${LBD.inDistribution}> ?dist .\r\n        }`\r\n        const bindings = await myEngine.query(idQ, {sources: downloadURLs, fetch: this.fetch})\r\n          .then((response: IQueryResultBindings) => response.bindings())\r\n        bindings.map(b => {\r\n          concept.references.push({\r\n            dataset: b.get(\"?dataset\").value,\r\n            distribution: b.get(\"?dist\").value,\r\n            identifier: b.get(\"?identifier\").value\r\n          })\r\n      })\r\n    }\r\n\r\n    const subject = extract(this.data, this.localProject);\r\n    const referenceRegistry = subject[LBD.hasReferenceRegistry][0][\"@id\"];\r\n    const theConcept = new LbdConcept(this.session, referenceRegistry)\r\n    theConcept.init(concept)\r\n    return theConcept\r\n    //     const aliases = {}\r\n    //     asJson[\"results\"].bindings.forEach(item => {\r\n    //       const alias = item[\"alias\"].value\r\n    //       const distribution = item[\"dist\"].value\r\n    //       const dataset = item[\"dataset\"].value\r\n    //       const identifier = item[\"identifier\"].value\r\n\r\n    //       if (!Object.keys(aliases).includes(alias)) {\r\n    //         aliases[alias] = []\r\n    //       }\r\n    // -    })\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////\r\n  /////////////////////// QUERY ///////////////////////////\r\n  /////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * @description a direct query on project resources\r\n   * @param q The SPARQL query (string)\r\n   * @param sources The sources (array)\r\n   * @param asStream Whether to be consumed as a stream or not (default: false)\r\n   * @returns \r\n   */\r\n  public async directQuery(q: string, sources: string[], asStream: boolean = false) {\r\n    const registries = await this.getAllReferenceRegistries()\r\n    const results = await query(q, {sources, fetch: this.fetch, asStream, registries})\r\n    return results\r\n  }\r\n\r\n\r\n  // /**\r\n  //  * @description A query where datasets take the \r\n  //  * @param q \r\n  //  * @param datasets \r\n  //  * @param asStream \r\n  //  */\r\n  // public async indirectQuery(q: string, datasets: string[], asStream: boolean = false) {\r\n\r\n  // }\r\n}\r\n"],"file":"LbdProject.js"}